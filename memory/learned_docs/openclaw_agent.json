{
  "type": "markdown",
  "source": "/usr/lib/node_modules/openclaw/docs/concepts/agent.md",
  "title": "Agent Runtime ü§ñ",
  "description": "OpenClaw uses a single agent workspace directory (`agents.defaults.workspace`) as the agent‚Äôs **only** working directory (`cwd`) for tools and context.\n\nRecommended: use `openclaw setup` to create `~/.openclaw/openclaw.json` if missing and initialize the workspace files.\n\nFull workspace layout + backup guide: [Agent workspace](/concepts/agent-workspace)\n\nIf `agents.defaults.sandbox` is enabled, non-main sessions can override this with\nper-session workspaces under `agents.defaults.sandbox.workspa",
  "sections": {
    "Workspace (required)": "OpenClaw uses a single agent workspace directory (`agents.defaults.workspace`) as the agent‚Äôs **only** working directory (`cwd`) for tools and context.\n\nRecommended: use `openclaw setup` to create `~/.openclaw/openclaw.json` if missing and initialize the workspace files.\n\nFull workspace layout + backup guide: [Agent workspace](/concepts/agent-workspace)\n\nIf `agents.defaults.sandbox` is enabled, non-main sessions can override this with\nper-session workspaces under `agents.defaults.sandbox.workspaceRoot` (see\n[Gateway configuration](/gateway/configuration)).",
    "Bootstrap files (injected)": "Inside `agents.defaults.workspace`, OpenClaw expects these user-editable files:\n\n- `AGENTS.md` ‚Äî operating instructions + ‚Äúmemory‚Äù\n- `SOUL.md` ‚Äî persona, boundaries, tone\n- `TOOLS.md` ‚Äî user-maintained tool notes (e.g. `imsg`, `sag`, conventions)\n- `BOOTSTRAP.md` ‚Äî one-time first-run ritual (deleted after completion)\n- `IDENTITY.md` ‚Äî agent name/vibe/emoji\n- `USER.md` ‚Äî user profile + preferred address\n\nOn the first turn of a new session, OpenClaw injects the contents of these files directly into the agent context.\n\nBlank files are skipped. Large files are trimmed and truncated with a marker so prompts stay lean (read the file for full content).\n\nIf a file is missing, OpenClaw injects a single ‚Äúmissing file‚Äù marker line (and `openclaw setup` will create a safe default template).\n\n`BOOTSTRAP.md` is only created for a **brand new workspace** (no other bootstrap files present). If you delete it after completing the ritual, it should not be recreated on later restarts.\n\nTo disable bootstrap file creation entirely (for pre-seeded workspaces), set:",
    "Built-in tools": "Core tools (read/exec/edit/write and related system tools) are always available,\nsubject to tool policy. `apply_patch` is optional and gated by\n`tools.exec.applyPatch`. `TOOLS.md` does **not** control which tools exist; it‚Äôs\nguidance for how _you_ want them used.",
    "Skills": "OpenClaw loads skills from three locations (workspace wins on name conflict):\n\n- Bundled (shipped with the install)\n- Managed/local: `~/.openclaw/skills`\n- Workspace: `<workspace>/skills`\n\nSkills can be gated by config/env (see `skills` in [Gateway configuration](/gateway/configuration)).",
    "pi-mono integration": "OpenClaw reuses pieces of the pi-mono codebase (models/tools), but **session management, discovery, and tool wiring are OpenClaw-owned**.\n\n- No pi-coding agent runtime.\n- No `~/.pi/agent` or `<workspace>/.pi` settings are consulted.",
    "Sessions": "Session transcripts are stored as JSONL at:\n\n- `~/.openclaw/agents/<agentId>/sessions/<SessionId>.jsonl`\n\nThe session ID is stable and chosen by OpenClaw.\nLegacy Pi/Tau session folders are **not** read.",
    "Steering while streaming": "When queue mode is `steer`, inbound messages are injected into the current run.\nThe queue is checked **after each tool call**; if a queued message is present,\nremaining tool calls from the current assistant message are skipped (error tool\nresults with \"Skipped due to queued user message.\"), then the queued user\nmessage is injected before the next assistant response.\n\nWhen queue mode is `followup` or `collect`, inbound messages are held until the\ncurrent turn ends, then a new agent turn starts with the queued payloads. See\n[Queue](/concepts/queue) for mode + debounce/cap behavior.\n\nBlock streaming sends completed assistant blocks as soon as they finish; it is\n**off by default** (`agents.defaults.blockStreamingDefault: \"off\"`).\nTune the boundary via `agents.defaults.blockStreamingBreak` (`text_end` vs `message_end`; defaults to text_end).\nControl soft block chunking with `agents.defaults.blockStreamingChunk` (defaults to\n800‚Äì1200 chars; prefers paragraph breaks, then newlines; sentences last).\nCoalesce streamed chunks with `agents.defaults.blockStreamingCoalesce` to reduce\nsingle-line spam (idle-based merging before send). Non-Telegram channels require\nexplicit `*.blockStreaming: true` to enable block replies.\nVerbose tool summaries are emitted at tool start (no debounce); Control UI\nstreams tool output via agent events when available.\nMore details: [Streaming + chunking](/concepts/streaming).",
    "Model refs": "Model refs in config (for example `agents.defaults.model` and `agents.defaults.models`) are parsed by splitting on the **first** `/`.\n\n- Use `provider/model` when configuring models.\n- If the model ID itself contains `/` (OpenRouter-style), include the provider prefix (example: `openrouter/moonshotai/kimi-k2`).\n- If you omit the provider, OpenClaw treats the input as an alias or a model for the **default provider** (only works when there is no `/` in the model ID).",
    "Configuration (minimal)": "At minimum, set:\n\n- `agents.defaults.workspace`\n- `channels.whatsapp.allowFrom` (strongly recommended)\n\n---\n\n_Next: [Group Chats](/channels/group-messages)_ ü¶û"
  },
  "commands": [],
  "code_blocks": [
    {
      "language": "json5",
      "content": "{ agent: { skipBootstrap: true } }"
    }
  ],
  "learned_from": "/usr/lib/node_modules/openclaw/docs/concepts/agent.md",
  "source_type": "file",
  "name": "openclaw_agent"
}